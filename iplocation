
// if ($response.statusCode != 200) {
//    $done(Null);
// }
const emojis= ['ğŸ†˜','ğŸˆ²','âš ï¸','ğŸ”','ğŸ“µ','ğŸš¦','ğŸ–','ğŸ–¥','ğŸ“º','ğŸ§','ğŸ¬','ğŸ¦‰','ğŸ„','â›³ï¸','ğŸš´','ğŸ¤‘','ğŸ‘½','ğŸ¤–','ğŸƒ', 'ğŸ‘º', 'ğŸ‘', 'ğŸ¶', 'ğŸ¼','ğŸŒ', 'ğŸ‘¥']

function getRandomInt(max) {
  return Math.floor(Math.random() * Math.floor(max));
}

function ValidCheck(para) {
  if(para) {
  return para
  } else
  {
  return emojis[getRandomInt(emojis.length)]
  }
}

var body = $response.body;
var obj = JSON.parse(body);
var title = obj['country'];
var subtitle ='ï£¿'+ValidCheck(obj['city'])+'-'+'('+obj['org']+')'+'ï£¿';
var ip = obj['query'];
var description = obj['country'] + '-' +ValidCheck(obj['city']) + '\n' + obj['org'] + '\n'+obj['ipName']+ '\n' + obj['query'];

$done({title, subtitle, ip, description});
